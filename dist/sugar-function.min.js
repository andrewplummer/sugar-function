/*
 *  Sugar v2.0.0
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) Andrew Plummer
 *  https://sugarjs.com/
 *
 * ---------------------------- */
(function(){'use strict';(function(){function n(b,a){for(var c in b)if(p(b,c)&&!1===a.call(b,b[c],c,b))break}function L(b){function a(b,a,c){m(d,b,function(b,e,u){b=G(b,e,u);ha(d,b.methods,a,c,b.a);return d})}var c="Object"===b,d=M(b);a("defineStatic",1);a("defineInstance",2);a("defineInstanceAndStatic",3);a("defineStaticWithArguments",1,!0);a("defineInstanceWithArguments",2,!0);m(d,"defineStaticPolyfill",function(a,c,d){a=G(a,c,d);x(q[b],a.methods,!0,a.a)});m(d,"defineInstancePolyfill",function(a,c,g){a=G(a,c,g);x(q[b].prototype,
a.methods,!0,a.a);n(a.methods,function(b,a){y(d,a,b)})});m(d,"alias",function(b,a){var c=d,h="string"===typeof a?d[a]:a;c[b]=h;h.instance&&y(c,b,h.instance)});m(d,"extend",function(a){function f(b,c){var d=a[b];if(d)for(var g=0,f;f=d[g];g++)if(f===c)return!0;return!1}function g(b,c,d){if(!c[b]||!d)return!1;for(b=0;b<d.length;b++)if(!1===a[d[b]])return!0}var h=q[b],k=h.prototype,u={},N={},v;a=a||{};v=a.methods;if(!f("except",h)&&(!a.namespaces||f("namespaces",h)))return c&&"boolean"===typeof a.objectPrototype&&
(H=a.objectPrototype),n(v||d,function(b,a){v&&(a=b,b=d[a]);!p(b,"instance")||c&&k===k&&(!H||"get"===a||"set"===a)||g(a,k,b.flags)||f("except",a)||(N[a]=b.instance);!p(b,"static")||c&&h===k&&(!H||"get"===a||"set"===a)||g(a,h,b.flags)||f("except",a)||(u[a]=b)}),x(h,u),x(k,N),v||m(d,"active",!0),l});z[b]=d;O["[object "+b+"]"]=d;P(b);ia(d);return l[b]=d}function ja(){return"Sugar"}function ha(b,a,c,d,e){n(a,function(a,g){var h,k=a;d&&(k=Q(a));e&&(k.flags=e);c&2&&!a.instance&&(h=d?Q(a,!0):ka(a),m(k,"instance",
h));c&1&&m(k,"static",!0);h=k;b[g]=h;h.instance&&y(b,g,h.instance);b.active&&b.extend(g)})}function G(b,a,c){var d;"string"===typeof b?(d={},d[b]=a,b=c):(d=b,b=a);return{a:b,methods:d}}function Q(b,a){var c=b.length-1-(a?1:0);return function(){var d=[],e=[],f;a&&d.push(this);f=Math.max(arguments.length,c);for(var g=0;g<f;g++)g<c?d.push(arguments[g]):e.push(arguments[g]);d.push(e);return b.apply(this,d)}}function ka(b){switch(b.length){case 0:case 1:return function(){return b(this)};case 2:return function(a){return b(this,
a)};case 3:return function(a,c){return b(this,a,c)};case 4:return function(a,c,d){return b(this,a,c,d)};case 5:return function(a,c,d,e){return b(this,a,c,d,e)}}}function x(b,a,c,d){n(a,function(a,f){c&&!d&&b[f]||m(b,f,a)})}function M(b){function a(b,d){if(!(this instanceof a))return new a(b,d);this.constructor!==a&&(b=this.constructor.apply(b,arguments));this.raw=b}m(a,"toString",function(){return"Sugar"+b});m(a.prototype,"valueOf",function(){return this.raw});return a}function y(b,a,c){c=la(c);var d,
e,f;f=R.prototype;e=(d=f[a])&&d!==Object.prototype[a];d&&d.b||(f[a]=e?ma(a):c);b.prototype[a]=c;b===l.Object&&na(a,c)}function ia(b){n(l.Object&&l.Object.prototype,function(a,c){if("function"===typeof a){var d=b.prototype;p(d,c)||(d[c]=a)}})}function na(b,a){n(z,function(c){c=c.prototype;p(c,b)||(c[b]=a)})}function la(b){return function(){return new R(b.apply(this.raw,arguments))}}function ma(b){function a(){var a=this.raw,d;null!=a&&(d=O[w(a)]);d||(d=l.Object);d=(new d(a))[b];if(d.b)throw new TypeError("Cannot resolve namespace for "+
a);return d.apply(this,arguments)}a.b=!0;return a}function P(b,a){var c=z[b],d=q[b].prototype;!a&&S&&(a=S(d));n(a,function(a){if("constructor"!==a&&"valueOf"!==a&&"__proto__"!==a){try{var b=d[a];if("function"!==typeof b)return}catch(g){return}y(c,a,b)}})}function oa(b,a,c){b[a]=c.value}function m(b,a,c,d){T(b,a,{value:c,enumerable:!!d,configurable:!0,writable:!0})}function w(b){return pa.call(b)}function p(b,a){return!!b&&qa.call(b,a)}function U(b,a){if(p(b,a))return b[a]}function A(b,a,c){c||(c=
w(b));return c==="[object "+a+"]"}function V(b){return function(a,c,d){a[b](c,d)}}function W(b){b=+b||0;if(0>b||!t(b)||!isFinite(b))throw new RangeError("Invalid number");return ra(b)}function B(b){var a="_sugar_"+b;return function(b,d){return 1<arguments.length?(m(b,a,d),b):b[a]}}function C(b,a,c,d,e,f,g){var h,k,u,l,v,m,n;h=b||void 0;if(null!=a){if(D(a))b=[a];else{a=String(a);if(-1!==a.indexOf(".."))return sa(b,a,c,g);b=a.split("[")}l=void 0!==g;for(var q=0,t=b.length;q<t;q++){k=b[q];I(k)&&(k=k.split("."));
for(var r=0,w=k.length;r<w;r++)if(a=k[r],v=q===t-1&&r===w-1,u=a.indexOf("]"),n=-1!==u,m=l&&0===u,u=1<t&&r===w-1,m?a=h.length:n&&(a=a.slice(0,-1)),n&&0>a&&(a=+a+h.length),q||a||1===t)if(n=c?a in h:p(h,a),!e||v&&!f||n){if(d){if(v||!n)return n}else if(l&&v){if(X(h))throw new TypeError("Property cannot be written");h[a]=g}h=n?h[a]:void 0}else h=h[a]=u||f&&v?[]:{}}return h}}function sa(b,a,c,d){var e,f,g;if(e=a.match(ta)){a=void 0!==d;b=(f=e[1])?C(b,f,c,!1,a?!0:!1,!0):b;if(!J(b))throw new TypeError("Array required");
g=e[4];f=e[2]?+e[2]:0;e=e[3]?+e[3]:b.length;e=-1===e?b.length:e+1;if(a)for(a=f;a<e;a++)C(b,a+g,c,!1,!0,!1,d);else if(b=b.slice(f,e),g)return"."===g.charAt(0)&&(g=g.slice(1)),b.map(function(a){return C(a,g)});return b}}function D(b){return!!b&&"object"===typeof b}function X(b,a){a=a||typeof b;return null==b||"string"===a||"number"===a||"boolean"===a}function Y(b,a,c){var d=typeof b,e,f;if(X(b,d)&&(null==b||b===b))return d+b;e=w(b);if(Z(b,e))D(b)?f=ua(b,a,c)+b.toString():-Infinity===1/b?f="-0":b.valueOf&&
(f=b.valueOf());else{a:{c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)break a;c=-1}-1===c&&(c=a.length,a.push(b));return c}return d+e+f}function ua(b,a,c){var d="";va(b,c,function(b,c,g,h){d+=g?"CYC":b+Y(c,a,h)});return d}function va(b,a,c){a||(a=[]);for(var d=Object.keys(b).sort(),e,f=0;f<d.length;f++){e=d[f];e=b[e];var g=d[f],h=!1;if(1<a.length)for(var k=a.length;k--;)a[k]===e&&(h=!0);a.push(e);c(g,e,h,a);a.pop()}}function wa(b,a){var c=[],d;for(d in b)d>>>0==d&&4294967295!=d&&d>=a&&c.push(+d);
c.sort(function(b,c){var d=b>a;return d!==c>a?d?-1:1:b-c});return c}function xa(b){for(var a="Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64".split(" "),c=0,d=a.length;c<d;c++){if(!(c in a)){for(var c=wa(a,c),e=0,f=c.length;e<f;e++)d=c[e],b.call(a,a[d],d,a);break}b(a[c],c)}}function r(b,a,c,d,e){a=W(a||0);E(b)||E(b,[]);K(b,!1);E(b).push(setTimeout(function(){K(b)||c.apply(d,e||[])},a))}function aa(b){var a=E(b),c;if(J(a))for(;c=a.shift();)clearTimeout(c);K(b,!0);return b}function ba(b,
a,c,d){function e(){if(f.length<d-(g&&c?1:0)){for(var b=[],a=0,l=arguments.length;a<l;a++)b.push(arguments[a]);f.push([this,b])}g||(g=!0,c?h():r(e,k,h));return m}var f=[],g=!1,h,k,l,m;a=a||1;d=d||Infinity;k=ca(a);l=ya(k/a)||1;h=function(){var a=f.length,c;if(0!=a){for(c=za(a-l,0);a>c;)m=Function.prototype.apply.apply(b,f.shift()),a--;r(e,k,function(){g=!1;h()})}};return e}function Aa(){for(var b=arguments,a=b.length,c=Array(a);a--;)c[a]=b[a];return c}function Ba(b,a,c){var d={},e=[],f=0;return function(){var g=
a.apply(this,arguments),g=Y(g,e);if(p(d,g))return U(d,g);f===c&&(d={},e=[],f=0);f++;return d[g]=b.apply(this,arguments)}}var l,q="undefined"!==typeof global&&global.Object===Object?global:this,Ca="undefined"!==typeof module&&module.c,H=!1,z={},O={},T=Object.defineProperty&&Object.defineProperties?Object.defineProperty:oa,R=M("Chainable"),S=Object.getOwnPropertyNames,pa=Object.prototype.toString,qa=Object.prototype.hasOwnProperty;(function(){l=q.Sugar;if(!l){l=function(b){n(l,function(a,c){p(z,c)&&
a.extend(b)});return l};if(Ca)module.c=l;else try{q.Sugar=l}catch(b){}n("Object Number String Array Date RegExp Function".split(" "),function(b){L(b)});m(l,"extend",l);m(l,"toString",ja);m(l,"createNamespace",L);m(l,"util",{hasOwn:p,getOwn:U,setProperty:m,classToString:w,defineProperty:T,forEachProperty:n,mapNativeToChainable:P})}})();var ta=/^(.*?)\[([-\d]*)\.\.([-\d]*)\](.*)$/,da=l.Function,Z,t,I,J,Da=V("defineInstance"),Ea=V("defineInstanceWithArguments"),ra=Math.trunc||function(b){return 0!==
b&&isFinite(b)?0>b?ca(b):Fa(b):b},ea=Math.min,za=Math.max,ca=Math.ceil,Fa=Math.floor,ya=Math.round,fa=String.fromCharCode;(function(){function b(a){f["[object "+a+"]"]=!0}function a(a,b){return b&&A(new b,"Object")?c(b):d(a)}function c(a){var b=String(a);return function(a){return String(a.constructor)===b}}function d(a){return function(b,c){return A(b,a,c)}}function e(a){var b=a.toLowerCase();return function(c){var d=typeof c;return d===b||"object"===d&&A(c,a)}}var f={};(function(){var c="Boolean Number String Date RegExp Function Array Error Set Map".split(" ");
t=e(c[1]);I=e(c[2]);a(c[3]);a(c[4]);a(c[5]);J=Array.isArray||a(c[6]);a(c[7]);a(c[8],"undefined"!==typeof Set&&Set);a(c[9],"undefined"!==typeof Map&&Map);b("Arguments");b(c[0]);b(c[1]);b(c[2]);b(c[3]);b(c[4]);b(c[6])})();(function(){xa(function(a){b(a+"Array")})})();Z=function(a,b){b=b||w(a);var c;if(!(c=f[b])){if(c=D(a)&&A(a,"Object",b))c="constructor"in a,c=!c&&!("toString"in a)||c&&!p(a,"constructor")&&p(a.constructor.prototype,"isPrototypeOf");if(c)a:{c=Object.prototype;for(var d in a){var e=a[d];
if(!p(a,d)&&e!==c[d]){c=!1;break a}}c=!0}}return c}})();(function(){for(var b=0;9>=b;b++)fa(b+65296),fa(b+48)})();var F=B("lock"),E=B("timers"),ga=B("partial"),K=B("canceled"),Ga=Object.create||function(b){function a(){}a.prototype=b;return new a};Da(da,{lazy:function(b,a,c,d){return ba(b,a,c,d)},throttle:function(b,a){return ba(b,a,!0,1)},debounce:function(b,a){function c(){for(var d=[],e=0,f=arguments.length;e<f;e++)d.push(arguments[e]);aa(c);r(c,a,b,this,d)}return c},cancel:function(b){return aa(b)},
after:function(b,a){var c=0,d=[];a=W(a);return function(){for(var e=[],f=0,g=arguments.length;f<g;f++)e.push(arguments[f]);d.push(e);c++;if(c>=a)return b.call(this,d)}},once:function(b){var a=!1,c;return function(){if(a)return c;a=!0;return c=b.apply(this,arguments)}},memoize:function(b,a,c){var d,e;t(a)||(d=a,a=c);I(d)?(e=d,d=function(a){return C(a,e,void 0,!1)}):d||(d=Aa);return Ba(b,d,a)},lock:function(b,a){var c;if(ga(b))return F(b,t(a)?a:null),b;c=function(){arguments.length=ea(F(c),arguments.length);
return b.apply(this,arguments)};F(c,t(a)?a:b.length);return c}});Ea(da,{partial:function(b,a){function c(){var e=0,f=[],g=this,h=F(c),k;for(k=0;k<d;k++){var l=a[k];f[k]=void 0!==l?l:arguments[e++]}for(k=e;k<arguments.length;k++)f.push(arguments[k]);null===h&&(h=d);t(h)&&(f.length=ea(f.length,h));return g instanceof c?(g=Ga(b.prototype),e=b.apply(g,f),D(e)?e:g):b.apply(g,f)}var d=a.length;ga(c,!0);return c},delay:function(b,a,c){r(b,a,b,b,c);return b},every:function(b,a,c){function d(){r(b,a,d);b.apply(b,
c)}r(b,a,d);return b}})}).call(this);}).call(this);
